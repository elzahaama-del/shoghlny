{% extends "base.html" %}

{% block title %}ููุญุฉ ุชุญูู ุงููุณุชุฎุฏู - ุดุบููู{% endblock %}

{% block content %}
<div class="container my-4">
  <h2 class="animate__animated animate__fadeInRight">๐ค ููุญุฉ ุชุญูู ุงููุชูุฏู</h2>

  <!-- ูุฑูุช ุฅุญุตุงุฆูุฉ -->
  <div class="row text-center my-4">
    <div class="col-md-4">
      <div class="card shadow-sm animate__animated animate__zoomIn">
        <div class="card-body">
          <h5>ุนุฏุฏ ุงูุทูุจุงุช</h5>
          <p class="display-6 text-primary">{{ applied_jobs_count }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm animate__animated animate__zoomIn animate__delay-1s">
        <div class="card-body">
          <h5>ุงููุธุงุฆู ุงููุญููุธุฉ</h5>
          <p class="display-6 text-warning">{{ saved_jobs_count }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm animate__animated animate__zoomIn animate__delay-2s">
        <div class="card-body">
          <h5>ุงููุธุงุฆู ุงูููุจูู ูููุง</h5>
          <p class="display-6 text-success">{{ accepted_jobs_count }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ุฌุฏูู ุงููุธุงุฆู ุงูููุฏููู ุนูููุง -->
  <div class="card shadow-sm mb-5 animate__animated animate__fadeInUp">
    <div class="card-header bg-dark text-white">
      <h5>๐ ุทูุจุงุช ุงููุธุงุฆู</h5>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-striped text-center align-middle">
        <thead class="table-light">
          <tr>
            <th>ุงููุธููุฉ</th>
            <th>ุงูุดุฑูุฉ</th>
            <th>ุชุงุฑูุฎ ุงูุชูุฏูู</th>
            <th>ุงูุญุงูุฉ</th>
            <th>ุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody>
          {% for application in applications %}
          <tr>
            <td>{{ application.job.title }}</td>
            <td>{{ application.job.company.name }}</td>
            <td>{{ application.applied_at.strftime('%Y-%m-%d') }}</td>
            <td>
              {% if application.status == 'pending' %}
                <span class="badge bg-warning text-dark">ููุฏ ุงููุฑุงุฌุนุฉ</span>
              {% elif application.status == 'accepted' %}
                <span class="badge bg-success">ุชู ุงููุจูู</span>
              {% elif application.status == 'rejected' %}
                <span class="badge bg-danger">ูุฑููุถ</span>
              {% endif %}
            </td>
            <td>
              <a href="{{ url_for('job_details', job_id=application.job.id) }}" class="btn btn-sm btn-outline-info">ุนุฑุถ</a>
              <a href="{{ url_for('withdraw_application', app_id=application.id) }}" class="btn btn-sm btn-outline-danger">ุณุญุจ ุงูุทูุจ</a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="5" class="text-muted">ูู ุชูู ุจุงูุชูุฏูู ุนูู ุฃู ูุธููุฉ ุจุนุฏ.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- ุฑูุงุจุท ุณุฑูุนุฉ -->
  <div class="d-flex justify-content-between">
    <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">
      <i class="fas fa-home"></i> ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ
    </a>
    <a href="{{ url_for('settings') }}" class="btn btn-outline-dark">
      <i class="fas fa-cog"></i> ุชุนุฏูู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
    </a>
  </div>
</div>
{% endblock %}
