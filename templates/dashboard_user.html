{% extends "base.html" %}

{% block title %}Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… - ÙØ±ØµØªÙƒ{% endblock %}

{% block content %}
<div class="container my-4">
  <h2 class="animate__animated animate__fadeInRight">ğŸ‘¤ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h2>

  <!-- ÙƒØ±ÙˆØª Ø¥Ø­ØµØ§Ø¦ÙŠØ© -->
  <div class="row text-center my-4">
    <div class="col-md-4">
      <div class="card shadow-sm animate__animated animate__zoomIn">
        <div class="card-body">
          <h5>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h5>
          <p class="display-6 text-primary">{{ applied_jobs_count }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm animate__animated animate__zoomIn animate__delay-1s">
        <div class="card-body">
          <h5>Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h5>
          <p class="display-6 text-warning">{{ saved_jobs_count }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm animate__animated animate__zoomIn animate__delay-2s">
        <div class="card-body">
          <h5>Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ ÙÙŠÙ‡Ø§</h5>
          <p class="display-6 text-success">{{ accepted_jobs_count }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ù‚Ø¯Ù‘ÙÙ… Ø¹Ù„ÙŠÙ‡Ø§ -->
  <div class="card shadow-sm mb-5 animate__animated animate__fadeInUp">
    <div class="card-header bg-dark text-white">
      <h5>ğŸ“‘ Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸Ø§Ø¦Ù</h5>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-striped text-center align-middle">
        <thead class="table-light">
          <tr>
            <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
            <th>Ø§Ù„Ø´Ø±ÙƒØ©</th>
            <th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</th>
            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
            <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody>
          {% for application in applications %}
          <tr>
            <td>{{ application.job.title }}</td>
            <td>{{ application.job.company.name }}</td>
            <td>{{ application.applied_at.strftime('%Y-%m-%d') }}</td>
            <td>
              {% if application.status == 'pending' %}
                <span class="badge bg-warning text-dark">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
              {% elif application.status == 'accepted' %}
                <span class="badge bg-success">ØªÙ… Ø§Ù„Ù‚Ø¨ÙˆÙ„</span>
              {% elif application.status == 'rejected' %}
                <span class="badge bg-danger">Ù…Ø±ÙÙˆØ¶</span>
              {% endif %}
            </td>
            <td>
              <a href="{{ url_for('job_details', job_id=application.job.id) }}" class="btn btn-sm btn-outline-info">Ø¹Ø±Ø¶</a>
              <a href="{{ url_for('withdraw_application', app_id=application.id) }}" class="btn btn-sm btn-outline-danger">Ø³Ø­Ø¨ Ø§Ù„Ø·Ù„Ø¨</a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="5" class="text-muted">Ù„Ù… ØªÙ‚Ù… Ø¨Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø£ÙŠ ÙˆØ¸ÙŠÙØ© Ø¨Ø¹Ø¯.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø© -->
  <div class="d-flex justify-content-between">
    <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">
      <i class="fas fa-home"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

    </a>
    <a href="{{ url_for('create_job') }}" class="btn btn-primary" style="margin-bottom: 15px;">
    <i class="fas fa-plus"></i> Ù†Ø´Ø± ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©
</a>
<!-- ØªØ¬Ø±Ø¨Ù‡ -->

<div class="card-body table-responsive">
      <table class="table table-striped table-hover text-center align-middle">
        <thead class="table-light">
          <tr>
            <th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
            <th>Ø§Ù„Ù…Ø¬Ø§Ù„</th>
            <th>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†</th>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody>
          {% for job in jobs %}
          <tr>
            <td>{{ job.title }}</td>
            <td>{{ job.category }}</td>
            <td>{{ job.applicants|length }}</td>
            <td>{{ job.created_at.strftime('%Y-%m-%d') }}</td>
            <td>
              <a href="{{ url_for('view_applicants', job_id=job.id) }}" class="btn btn-sm btn-outline-primary">Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†</a>
              <a href="{{ url_for('edit_job', job_id=job.id) }}" class="btn btn-sm btn-outline-secondary">ØªØ¹Ø¯ÙŠÙ„</a>
              <a href="{{ url_for('delete_job', job_id=job.id) }}" class="btn btn-sm btn-outline-danger">Ø­Ø°Ù</a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="5" class="text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ¸Ø§Ø¦Ù Ø­Ø§Ù„ÙŠØ§Ù‹.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
 
    <!-- <a href="{{ url_for('settings') }}" class="btn btn-outline-dark"> -->
      
    </a>
  </div>
</div>
{% endblock %}      